[gd_scene load_steps=2 format=3 uid="uid://c27qbgc2sggk"]

[sub_resource type="GDScript" id="GDScript_ouh7b"]
script/source = "extends Node3D

var input_dir = \"res://experimental/mpfb2_plugin/assets/\"

func _ready():
	dir_contents(\"\")

func move_texture_files(path):
	var mhmat = MHMAT_Reader.new(path)
	mhmat.move_texture_files()

func dir_contents(path):
	var dir = DirAccess.open(input_dir.path_join(path))
	if dir:
		dir.list_dir_begin()
		var file_name = dir.get_next()
		while file_name != \"\":
			if dir.current_is_dir():
				#print(\"Found directory: \" + file_name)
				dir_contents(path.path_join(file_name))
			elif file_name.get_extension() == \"mhmat\":
				#print(\"Found file: \" + file_name)
				move_texture_files(path.path_join(file_name))
			file_name = dir.get_next()
	else:
		print(\"An error occurred when trying to access the path.\")
"

[node name="move_texture_files" type="Node3D"]
script = SubResource("GDScript_ouh7b")
