[gd_scene load_steps=6 format=3 uid="uid://bjevkufa7lstr"]

[ext_resource type="Theme" uid="uid://ckdypew3dhoqq" path="res://addons/humanizer/data/resources/humanizer_inspector_theme.tres" id="1_i577l"]
[ext_resource type="Script" path="res://addons/humanizer/scripts/inspector/skins_options.gd" id="1_teqt2"]
[ext_resource type="PackedScene" uid="uid://btqkb1j3i8dm2" path="res://addons/humanizer/scenes/inspector/body_parts_inspector_container.tscn" id="2_cyqhb"]
[ext_resource type="PackedScene" uid="uid://bjun3ufto0k57" path="res://addons/humanizer/scenes/inspector/clothes_inspector_container.tscn" id="3_tceog"]

[sub_resource type="GDScript" id="GDScript_5ptqy"]
script/source = "@tool
extends OptionButton

var human: Humanizer


func _ready() -> void:
	clear()
	if human == null:
		return
	_set_rig_options()
	
	item_selected.connect(_on_rig_selected)
	human.on_human_reset.connect(func(): selected = -1)
	
	selected = -1
	for item in item_count:
		if get_item_text(item) == human.human_config.rig:
			selected = item

func _set_rig_options() -> void:
	var rigs = HumanizerRegistry.rigs
	for rig in rigs:
		if rigs[rig].skeleton_retargeted_path != '':
			add_item(rig + '-RETARGETED')
		if rigs[rig].skeleton_path != '':
			add_item(rig)
			
func _on_rig_selected(idx: int) -> void:
	human.set_rig(get_item_text(idx))
"

[node name="MarginContainer" type="MarginContainer"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme = ExtResource("1_i577l")

[node name="VBoxContainer" type="VBoxContainer" parent="."]
unique_name_in_owner = true
layout_mode = 2

[node name="ResetButton" type="Button" parent="VBoxContainer"]
unique_name_in_owner = true
layout_mode = 2
text = "Reset Human"

[node name="HBoxContainer2" type="HBoxContainer" parent="VBoxContainer"]
layout_mode = 2

[node name="Label" type="Label" parent="VBoxContainer/HBoxContainer2"]
layout_mode = 2
text = "Rig:"

[node name="RigOptionButton" type="OptionButton" parent="VBoxContainer/HBoxContainer2"]
unique_name_in_owner = true
layout_mode = 2
size_flags_horizontal = 3
script = SubResource("GDScript_5ptqy")

[node name="AdjustSkeletonButton" type="Button" parent="VBoxContainer/HBoxContainer2"]
unique_name_in_owner = true
layout_mode = 2
size_flags_horizontal = 3
text = "Adjust  Skeleton"

[node name="TPoseButton" type="Button" parent="VBoxContainer"]
unique_name_in_owner = true
visible = false
layout_mode = 2
text = "Set T Pose As Rest"

[node name="ComponentsButton" type="Button" parent="VBoxContainer"]
unique_name_in_owner = true
layout_mode = 2
text = "Components"

[node name="HideVerticesButton" type="Button" parent="VBoxContainer"]
unique_name_in_owner = true
layout_mode = 2
text = "Update Hidden Vertices"

[node name="BakeButton" type="Button" parent="VBoxContainer"]
unique_name_in_owner = true
layout_mode = 2
text = "Bake"

[node name="SaveMenu" type="HBoxContainer" parent="VBoxContainer"]
layout_mode = 2

[node name="Label" type="Label" parent="VBoxContainer/SaveMenu"]
layout_mode = 2
size_flags_horizontal = 3
text = "Name:"
horizontal_alignment = 2
vertical_alignment = 1

[node name="HumanName" type="LineEdit" parent="VBoxContainer/SaveMenu"]
unique_name_in_owner = true
layout_mode = 2
size_flags_horizontal = 3
size_flags_stretch_ratio = 2.03
placeholder_text = "MyHuman"

[node name="SaveButton" type="Button" parent="VBoxContainer/SaveMenu"]
unique_name_in_owner = true
layout_mode = 2
size_flags_horizontal = 3
size_flags_stretch_ratio = 5.0
text = "Save To File"

[node name="HSeparator" type="HSeparator" parent="VBoxContainer"]
layout_mode = 2

[node name="Label" type="Label" parent="VBoxContainer"]
layout_mode = 2
text = "-------------- Assets --------------
"
horizontal_alignment = 1

[node name="HSeparator2" type="HSeparator" parent="VBoxContainer"]
layout_mode = 2

[node name="HBoxContainer" type="HBoxContainer" parent="VBoxContainer"]
layout_mode = 2

[node name="Label" type="Label" parent="VBoxContainer/HBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3
text = "Skin"
horizontal_alignment = 1

[node name="SkinOptionsButton" type="OptionButton" parent="VBoxContainer/HBoxContainer"]
unique_name_in_owner = true
layout_mode = 2
size_flags_horizontal = 3
size_flags_stretch_ratio = 3.0
item_count = 23
selected = 0
popup/item_0/text = "None"
popup/item_0/id = 0
popup/item_1/text = "middleage_african_female"
popup/item_1/id = 1
popup/item_2/text = "middleage_african_male"
popup/item_2/id = 2
popup/item_3/text = "middleage_asian_female2"
popup/item_3/id = 3
popup/item_4/text = "middleage_asian_male2"
popup/item_4/id = 4
popup/item_5/text = "middleage_caucasian_female"
popup/item_5/id = 5
popup/item_6/text = "middleage_caucasian_male"
popup/item_6/id = 6
popup/item_7/text = "old_african_female"
popup/item_7/id = 7
popup/item_8/text = "old_african_male"
popup/item_8/id = 8
popup/item_9/text = "old_asian_female2"
popup/item_9/id = 9
popup/item_10/text = "old_asian_male2"
popup/item_10/id = 10
popup/item_11/text = "old_caucasian_female"
popup/item_11/id = 11
popup/item_12/text = "old_caucasian_male"
popup/item_12/id = 12
popup/item_13/text = "young_african_female"
popup/item_13/id = 13
popup/item_14/text = "young_african_male"
popup/item_14/id = 14
popup/item_15/text = "young_asian_female3"
popup/item_15/id = 15
popup/item_16/text = "young_asian_male3"
popup/item_16/id = 16
popup/item_17/text = "young_caucasian_female"
popup/item_17/id = 17
popup/item_18/text = "young_caucasian_female2"
popup/item_18/id = 18
popup/item_19/text = "young_caucasian_female_special_suit"
popup/item_19/id = 19
popup/item_20/text = "young_caucasian_male"
popup/item_20/id = 20
popup/item_21/text = "young_caucasian_male2"
popup/item_21/id = 21
popup/item_22/text = "young_caucasian_male_special_suit"
popup/item_22/id = 22
script = ExtResource("1_teqt2")

[node name="BodyPartsButton" type="Button" parent="VBoxContainer"]
unique_name_in_owner = true
layout_mode = 2
text = "Body Parts"

[node name="BodyPartsContainer" parent="VBoxContainer" instance=ExtResource("2_cyqhb")]
unique_name_in_owner = true
visible = false
layout_mode = 2

[node name="ClothesButton" type="Button" parent="VBoxContainer"]
unique_name_in_owner = true
layout_mode = 2
text = "Clothes"

[node name="ClothesContainer" parent="VBoxContainer" instance=ExtResource("3_tceog")]
unique_name_in_owner = true
visible = false
layout_mode = 2

[node name="HSeparator3" type="HSeparator" parent="VBoxContainer"]
layout_mode = 2

[node name="Label2" type="Label" parent="VBoxContainer"]
layout_mode = 2
text = "-------------- ShapeKeys --------------
"
horizontal_alignment = 1

[node name="HSeparator4" type="HSeparator" parent="VBoxContainer"]
layout_mode = 2
